

gcp_credentials: ENCRYPTED[6c48ba8820740593dca045f1e88f7be4740aede2f21387184bf9d029e21a9988e9e0315d69d9bec3ffd7a34b837d44e3] 

gce_instance:
  image_project: ubuntu-os-cloud
  image_name: ubuntu-1904-disco-v20190417 
  zone: us-west2-a
  cpu: 2
  memory: 4GB
  disk: 20

task:
  env:
    DEPENDENCIES: bc gcc-multilib libssl-dev llvm-dev libjemalloc1 libjemalloc-dev \
                  libnuma-dev python3-sphinx libelf-dev selinux-policy-dev \
                  libunbound-dev libunbound-dev:i386 libunwind-dev python3-pip
    COMPILER: gcc

  prepare_script:
    - cat /etc/lsb-release
    - cat /etc/lsb-release
    - sudo apt-get install -y ${DEPENDENCIES}
    - pip install --disable-pip-version-check --user six flake8 hacking
    - pip install --user --upgrade docutils

  configure_script:
    - ./boot.sh
    - ./configure CC=${COMPILER} CFLAGS="-g -O2 -Wall" \
                  --enable-Werror --enable-afxdp
